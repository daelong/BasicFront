<!DOCTYPE html>
<html>
<head>
	<title>fkldj</title>
</head>
<body>
<h3>학점 별로 학생 수를 입력하면 파이 차트로 비율을 그립니다.</h3>
<hr>
<form>
	A<input type="number" value="0" name="A">명
	B<input type="number" value="0" name="A">명
	C<input type="number" value="0" name="A">명<br>
	D<input type="number" value="0" name="A">명
	E<input type="number" value="0" name="A">명
	<input type="button" value="차트그리기" onclick="chart()">
</form>
<canvas id="myCanvas" style="background-color:aliceblue" width="500" height="400"></canvas>
<script>
	var grades = ["A", "B", "C", "D", "E"];
	var colors = ["blue", "green", "yellow", "magenta", "red"];
	var canvas = document.getElementById("myCanvas");
	var context = canvas.getContext("2d");
	function chart(){
	context.clearRect(0, 0, canvas.width, canvas.height);
	var soo = document.getElementsByName("A");
	var num = new Array();
	var sum = 0;
	for(var i = 0; i< soo.length; i++)	{
		num[i] = parseInt(soo[i].value);
	}
	for(var i = 0; i < num.length; i++){
		sum += num[i];
	}
	context.beginPath();
	context.moveTo(50, 50);
	context.font = "20px Gothic";
	context.fillStyle = "blue";
	var x = 0;
	var y = 0;
	for(var i = 0; i < num.length; i++){
		context.fillText(grades[i] + "학점" + Math.floor((num[i]/sum)*100) + "%: "+ colors[i], 10, 50+i*20);
	}
	for(var i=0; i<num.length; i++){
		context.beginPath();
		context.moveTo(250, 250);
		y += (num[i]/sum)*2*Math.PI;
		context.arc(250, 250, 100, x, y, false);
		context.closePath();
		context.fillStyle = colors[i];
		context.fill();
		x = y;
	}

	}
</script>
</body>
</html>